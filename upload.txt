<html lang="en"><head>
  <meta charset="UTF-8">
  <title>PromptCraft – Prototyping Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>

  <!-- Toolbar design system and styles -->
  <style>
    :root {
      --shade-01: #fcfcfc;
      --shade-02: #f8f7f7;
      --shade-03: #f1f1f1;
      --shade-04: #ececec;
      --shade-05: #e2e2e2;
      --shade-06: #7b7b7b;
      --shade-07: #323232;
      --shade-08: #222;
      --shade-09: #121212;
      --color-primary: var(--shade-09);
      --color-secondary: var(--shade-06);
      --color-surface-01: var(--shade-01);
      --color-surface-02: var(--shade-02);
      --color-surface-03: var(--shade-03);
      --color-s-01: var(--shade-04);
      --color-s-02: var(--shade-05);
      --color-green: #55b93e;
      --color-blue: #3582ff;
      --spacing: 0.25rem;
      --radius-lg: 0.5rem;
      --radius-xl: 0.75rem;
      --radius-3xl: 1.5rem;
      --box-shadow-toolbar: 0px 1px 4px -4px rgba(0,0,0,0.07), 0px 8px 16px -12px rgba(0,0,0,0.13);
      --box-shadow-prompt-input: inset 0 2px 0 0 #fff, 0px 18px 24px -20px rgba(0,0,0,0.13), 0px 8px 16px -12px rgba(0,0,0,0.07);
      --box-shadow-depth-01: 0 6px 3px 0 rgba(0,0,0,0.01), 0 3px 3px 0 rgba(0,0,0,0.02), 0 1px 1px 0 rgba(0,0,0,0.02);
      --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Inter", sans-serif;
    }

    .toolbar {
      position: fixed;
      top: calc(var(--spacing) * 3);
      left: 50%;
      transform: translateX(-50%);
      z-index: 50;
      display: flex;
      background: var(--color-surface-01);
      border: 1px solid var(--color-s-01);
      border-radius: calc(var(--spacing) * 5);
      box-shadow: var(--box-shadow-toolbar);
      padding: calc(var(--spacing) * 2);
      gap: calc(var(--spacing) * 2);
    }

    .toolbar-group {
      display: flex;
      align-items: center;
      gap: calc(var(--spacing) * 2);
    }

    .toolbar-btn,
    .zoom-selector-btn {
      position: relative;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: calc(var(--spacing) * 10);
      height: calc(var(--spacing) * 10);
      border: 1px solid transparent;
      background-color: transparent;
      border-radius: var(--radius-xl);
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }

    .toolbar-btn:hover,
    .zoom-selector-btn:hover {
      background-color: var(--color-surface-03);
    }

    .toolbar-btn.active {
      background-color: var(--color-surface-03);
      border-color: var(--color-s-02);
      box-shadow: 0 -1px 3px 0px rgba(18,18,18,0.15) inset, 0px 1.25px 1px 0px #FFF inset;
    }

    .toolbar-btn.disabled {
      opacity: 0.4;
      cursor: not-allowed;
      background-color: transparent;
    }

    .toolbar-btn svg,
    .zoom-selector-btn svg {
      width: calc(var(--spacing) * 5);
      height: calc(var(--spacing) * 5);
      fill: var(--color-primary);
    }

    .zoom-selector-btn {
      min-width: calc(var(--spacing) * 22);
      padding: 0 calc(var(--spacing) * 3);
      justify-content: space-between;
      background-color: var(--color-surface-03);
      border-color: var(--color-s-01);
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-primary);
    }

    .zoom-selector-btn svg {
      width: calc(var(--spacing) * 4);
      height: calc(var(--spacing) * 4);
      fill: var(--color-secondary);
    }

    .zoom-selector-btn:hover {
      border-color: rgba(18, 18, 18, 0.1);
    }

    .primary-btn {
      position: relative;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      height: calc(var(--spacing) * 10);
      padding: 0 calc(var(--spacing) * 6);
      border: none;
      border-radius: var(--radius-xl);
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--color-primary);
      background: linear-gradient(to bottom, #E5E5E5, #E2E2E2);
      box-shadow: 0 3px 4px -1px rgba(0,0,0,0.15), 0px 1px 0px 0px rgba(255,255,255,0.33) inset, 0px 0px 0px 1px #D4D4D4;
      cursor: pointer;
      overflow: hidden;
      white-space: nowrap;
    }

    .primary-btn::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: var(--radius-xl);
      background-color: rgba(255, 255, 255, 0.3);
      opacity: 0;
      transition: opacity 0.2s;
    }

    .primary-btn:hover::after {
      opacity: 1;
    }

    .toolbar-btn::after {
      content: attr(aria-label);
      position: absolute;
      bottom: 120%;
      left: 50%;
      transform: translateX(-50%);
      background-color: var(--color-primary);
      color: var(--color-surface-01);
      padding: calc(var(--spacing) * 1) calc(var(--spacing) * 2);
      border-radius: var(--radius-lg);
      font-size: 0.75rem;
      font-weight: 500;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease-in-out, bottom 0.2s ease-in-out;
    }

    .toolbar-btn:hover::after {
      opacity: 1;
      bottom: 130%;
    }

    /* Tab switcher (used inside left sidebar header) */
    .tab-switcher {
      padding: calc(var(--spacing) * 0.75);
      border: 1px solid var(--color-s-02);
      background: var(--color-surface-03);
      border-radius: var(--radius-xl);
      box-shadow: inset 0px 1px 2px 0 rgba(50, 50, 50, 0.10);
      position: relative;
      width: 100%;
      max-width: 220px;
    }

    .tab-buttons {
      display: flex;
      position: relative;
    }

    .tab-indicator {
      position: absolute;
      top: 0;
      left: 0;
      width: 50%;
      height: 100%;
      background: var(--color-surface-01);
      border-radius: var(--radius-lg);
      box-shadow: 0 1.25px 3px 0px rgba(50,50,50,0.10),
                  inset 0px 1.25px 1px 0px #FFF;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .tab-btn {
      flex: 1;
      height: calc(var(--spacing) * 8);
      border: none;
      background: transparent;
      font-family: var(--font-sans);
      font-size: 0.875rem;
      font-weight: 600;
      letter-spacing: -0.01em;
      color: var(--color-secondary);
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: color 0.25s ease-out;
    }

    .tab-btn:hover {
      color: var(--color-primary);
    }

    .tab-btn.active {
      color: var(--color-primary);
      transition-delay: 0.05s;
    }

    /* Chat container */
    .chat-container {
      position: fixed;
      left: 50%;
      bottom: calc(var(--spacing) * 3);
      z-index: 40;
      width: min(calc(var(--spacing) * 135.5), 100% - 2.5rem);
      transform: translateX(-50%);
      background-color: var(--color-surface-01);
      border: 1px solid var(--color-s-01);
      border-radius: var(--radius-3xl);
      box-shadow: var(--box-shadow-prompt-input);
      padding-top: calc(var(--spacing) * 5);
      padding-left: calc(var(--spacing) * 3);
      padding-right: calc(var(--spacing) * 3);
      padding-bottom: calc(var(--spacing) * 3);
    }

    .chat-history-controls {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      margin-bottom: calc(var(--spacing) * 4);
      display: flex;
      align-items: center;
      gap: calc(var(--spacing) * 3);
      height: calc(var(--spacing) * 11);
      padding: 0 calc(var(--spacing) * 5);
      background-color: var(--color-surface-01);
      border: 1px solid var(--color-s-01);
      border-radius: 9999px;
      box-shadow: var(--box-shadow-depth-01);
    }

    .chat-history-controls button {
      display: inline-flex;
      background: none;
      cursor: pointer;
    }

    .chat-history-controls button svg {
      width: calc(var(--spacing) * 4);
      height: calc(var(--spacing) * 4);
      fill: var(--color-secondary);
      transition: fill 0.2s;
    }

    .chat-history-controls button:hover svg {
      fill: var(--color-primary);
    }

    .chat-history-indicator {
      display: flex;
      align-items: center;
      gap: calc(var(--spacing) * 2);
    }

    .chat-history-dot {
      display: block;
      width: calc(var(--spacing) * 0.375);
      background-color: rgba(18,18,18, 0.3);
      border-radius: 9999px;
    }

    .chat-history-dot.short { height: calc(var(--spacing) * 2); }
    .chat-history-dot.tall { height: calc(var(--spacing) * 3.5); }
    .chat-history-dot.active { background-color: var(--color-primary); }

    .chat-input-area {
      display: block;
      width: 100%;
      background-color: transparent;
      min-height: calc(var(--spacing) * 6);
      margin-bottom: calc(var(--spacing) * 8);
      padding-left: calc(var(--spacing) * 2);
      border: none;
      outline: none;
      resize: none;
      font-family: var(--font-sans);
      font-size: 0.9375rem;
      line-height: 1.5rem;
      font-weight: 400;
      color: var(--color-primary);
      letter-spacing: -0.02em;
      transition: opacity 0.3s;
    }

    .chat-input-area::placeholder {
      color: var(--color-secondary);
    }

    .chat-input-area:disabled {
      opacity: 0.5;
      cursor: wait;
    }

    .chat-footer {
      display: flex;
      gap: calc(var(--spacing) * 2);
      align-items: center;
    }

    .chat-btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: calc(var(--spacing) * 10);
      height: calc(var(--spacing) * 10);
      background-color: transparent;
      border: 1px solid var(--color-s-02);
      border-radius: var(--radius-xl);
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .chat-btn:hover {
      background-color: var(--color-surface-03);
    }

    .chat-btn svg {
      width: calc(var(--spacing) * 5);
      height: calc(var(--spacing) * 5);
      fill: var(--color-primary);
    }

    .mode-selector {
      display: flex;
      align-items: center;
      gap: calc(var(--spacing) * 3);
      flex-grow: 1;
      height: calc(var(--spacing) * 10);
      padding: 0 calc(var(--spacing) * 3);
      background-color: transparent;
      border: 1px solid var(--color-s-02);
      border-radius: var(--radius-xl);
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--color-primary);
      cursor: pointer;
      transition: all 0.2s;
      min-width: 0;
    }

    .mode-selector:hover {
      border-color: var(--color-secondary);
      background-color: var(--color-surface-03);
    }

    .mode-selector .icon-text {
      flex-grow: 1;
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .mode-selector .icon-mode {
      width: calc(var(--spacing) * 4);
      height: calc(var(--spacing) * 4);
      fill: var(--color-green);
      flex-shrink: 0;
    }

    .mode-selector .icon-chevron {
      width: calc(var(--spacing) * 5);
      height: calc(var(--spacing) * 5);
      fill: var(--color-secondary);
      flex-shrink: 0;
    }

    .submit-btn {
      position: relative;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
      width: calc(var(--spacing) * 10);
      height: calc(var(--spacing) * 10);
      padding: 0;
      border: none;
      border-radius: var(--radius-xl);
      cursor: pointer;
      color: var(--shade-01);
      fill: var(--shade-01);
      box-shadow:
        0 0.5px 1px 0px rgba(255,255,255,0.15) inset,
        0px 2px 4px -1px rgba(13,13,13,0.50),
        0px -1px 1.2px 0.35px var(--shade-09) inset,
        0px 0px 0px 1px #333;
    }

    .submit-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      z-index: 1;
      border-radius: inherit;
      background: linear-gradient(to bottom, var(--shade-07), var(--shade-08));
      transition: opacity 0.2s;
    }

    .submit-btn:hover::before {
      opacity: 0.9;
    }

    .submit-btn svg {
      position: relative;
      z-index: 2;
      width: calc(var(--spacing) * 5);
      height: calc(var(--spacing) * 5);
      transform: rotate(-90deg);
    }

    *:focus-visible {
      outline: 2px solid var(--color-blue);
      outline-offset: 2px;
    }

    @media (max-width: 768px) {
      .toolbar {
        padding-inline: calc(var(--spacing) * 2.5);
      }
      .primary-btn {
        padding-inline: calc(var(--spacing) * 3);
      }
    }
  </style>
</head>
<body class="min-h-screen bg-gray-100 text-gray-900 antialiased flex flex-col font-sans">

  <!-- New centered floating toolbar -->
  <div class="toolbar">
    <div class="toolbar-group">
      <button class="toolbar-btn active" data-action="select" aria-label="Select">
        <svg viewBox="0 0 20 20"><path d="M1.933 4.477C1.388 2.9 2.9 1.388 4.477 1.933l12.361 4.272c1.742.602 1.812 3.04.107 3.74l-4.768 1.959a.5.5 0 0 0-.272.272l-1.959 4.768c-.7 1.705-3.138 1.635-3.74-.107L1.933 4.477zm2.054-1.126a.5.5 0 0 0-.636.636l4.272 12.361a.5.5 0 0 0 .935.027l1.959-4.768a2 2 0 0 1 1.09-1.09l4.768-1.959a.5.5 0 0 0-.027-.935L3.987 3.351z"></path></svg>
      </button>
      <button class="toolbar-btn" data-action="move" aria-label="Move">
        <svg viewBox="0 0 20 20"><path d="M5.248 2.727c1.188-.713 2.709-.289 3.387.932l1.34 2.414 3.053-1.832c1.543-.927 3.504-.427 4.461 1.093l.099.167.785 1.414c1.895 3.412.771 7.774-2.523 9.751-2.226 1.337-4.986 1.28-7.16-.145L4.038 13.47a.75.75 0 0 1-.331-.736l.155-1.06c.178-1.216 1.173-2.106 2.333-2.156l.01-.001-1.857-3.344a2.58 2.58 0 0 1 .756-3.354l.142-.092zm2.076 1.661c-.27-.486-.849-.647-1.304-.375-.472.283-.638.929-.359 1.432l2.576 4.639a.75.75 0 0 1-.773 1.105l-1.02-.161c-.519-.082-1.014.296-1.097.864l-.087.586 4.253 2.79c1.622 1.064 3.655 1.148 5.347.238l.219-.124c2.595-1.558 3.489-5.026 1.984-7.737l-.785-1.414c-.507-.913-1.611-1.221-2.477-.701l-3.718 2.232a.75.75 0 0 1-1.042-.279L7.324 4.387zM1.187 6.084a.75.75 0 1 1 1.4.538c-.503 1.309-.503 2.45 0 3.759a.75.75 0 1 1-1.4.538 6.36 6.36 0 0 1 0-4.835z"></path></svg>
      </button>
      <button class="toolbar-btn" data-action="comment" aria-label="Comment">
        <svg viewBox="0 0 20 20"><path d="M14.38 1.75A3.25 3.25 0 0 1 17.63 5v7.917a3.25 3.25 0 0 1-3.25 3.25H6.702c-.016 0-.031.004-.044.013l-3.131 1.957A.75.75 0 0 1 2.38 17.5V5a3.25 3.25 0 0 1 3.25-3.25h8.75zm0 1.5H5.63A1.75 1.75 0 0 0 3.88 5v11.147l1.983-1.24c.201-.126.428-.204.662-.231l.177-.01h7.678a1.75 1.75 0 0 0 1.75-1.75V5a1.75 1.75 0 0 0-1.75-1.75z"></path></svg>
      </button>
      <button class="toolbar-btn" data-action="frame" aria-label="Frame">
        <svg viewBox="0 0 20 20"><path d="M4.79 1.54a.75.75 0 0 1 .75.75v1.75h7.167a3.25 3.25 0 0 1 3.245 3.066l.005.184-.001 7.166 1.751.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.75.75l-1.751-.001.001 1.751a.75.75 0 0 1-.648.743l-.102.007a.75.75 0 0 1-.75-.75l-.001-1.751-7.166.001a3.25 3.25 0 0 1-3.245-3.066l-.005-.184V5.54H2.29a.75.75 0 0 1-.743-.648L1.54 4.79a.75.75 0 0 1 .75-.75h1.75V2.29a.75.75 0 0 1 .648-.743l.102-.007zm.75 4v7.167a1.75 1.75 0 0 0 1.75 1.75l7.166-.001.001-7.166a1.75 1.75 0 0 0-1.606-1.744l-.144-.006H5.54z"></path></svg>
      </button>
      <button class="toolbar-btn" data-action="play" aria-label="Play Animation">
        <svg viewBox="0 0 20 20"><path d="M3.5 5.756c0-2.979 3.306-4.768 5.8-3.14l6.512 4.251c2.267 1.48 2.267 4.801 0 6.28L9.3 17.398c-2.494 1.628-5.8-.161-5.8-3.14V5.756zm4.98-1.884C6.983 2.895 5 3.969 5 5.756v8.501c0 1.787 1.983 2.861 3.48 1.884l6.512-4.251a2.25 2.25 0 0 0 0-3.768L8.48 3.872z"></path></svg>
      </button>

      <button class="zoom-selector-btn" id="zoom-selector" aria-label="Zoom Level">
        <span id="zoom-level">125%</span>
        <svg viewBox="0 0 20 20"><path d="M11.371 12.38c-.757.827-1.985.827-2.742 0l-3.36-3.668a1.07 1.07 0 0 1 0-1.418c.359-.392.94-.392 1.299 0l3.36 3.668c.04.044.104.044.144 0l3.36-3.668c.359-.392.94-.392 1.299 0a1.07 1.07 0 0 1 0 1.418l-3.36 3.668z"></path></svg>
      </button>

      <button class="toolbar-btn disabled" data-action="undo" aria-label="Undo (Ctrl+Z)">
        <svg style="transform: rotate(180deg);" viewBox="0 0 20 20"><path d="M12.183 4.3a.75.75 0 0 1 1.061 0l3.44 3.441a3.25 3.25 0 0 1 0 4.596l-3.44 3.441a.75.75 0 0 1-1.061-1.061l3.441-3.441a1.75 1.75 0 0 0 .298-.397l.043-.091H3.13a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .75-.75h12.836l-.044-.09c-.052-.095-.114-.186-.184-.272l-.114-.125-3.44-3.441a.75.75 0 0 1 0-1.061z"></path></svg>
      </button>
      <button class="toolbar-btn" data-action="redo" aria-label="Redo (Ctrl+Y)">
        <svg viewBox="0 0 20 20"><path d="M12.183 4.3a.75.75 0 0 1 1.061 0l3.44 3.441a3.25 3.25 0 0 1 0 4.596l-3.44 3.441a.75.75 0 0 1-1.061-1.061l3.441-3.441a1.75 1.75 0 0 0 .298-.397l.043-.091H3.13a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .75-.75h12.836l-.044-.09c-.052-.095-.114-.186-.184-.272l-.114-.125-3.44-3.441a.75.75 0 0 1 0-1.061z"></path></svg>
      </button>
    </div>

    <div class="toolbar-group">
      <button class="primary-btn" data-action="export">Export</button>
    </div>
  </div>

  <!-- Original header kept minimal: just logo / brand row -->
  <header class="z-20 border-b border-gray-200 bg-white/80 backdrop-blur">
    <div class="max-w-7xl mx-auto flex items-center justify-between gap-4 px-4 sm:px-6 lg:px-8 py-3">
      <div class="flex items-center gap-3">
        <iconify-icon icon="simple-icons:openai" class="w-8 h-8 text-gray-900"></iconify-icon>
        <div class="flex flex-col leading-tight">
          <span class="text-lg font-semibold tracking-tight">PromptCraft</span>
          <span class="text-xs text-gray-500">3D prompt prototyping</span>
        </div>
      </div>
      <div class="hidden sm:flex items-center gap-2">
        <div class="w-6 h-6 rounded-full bg-gradient-to-tr from-indigo-500 via-sky-400 to-emerald-400"></div>
        <span class="text-xs font-medium text-gray-700">Studio</span>
      </div>
    </div>
  </header>

  <main class="flex-1 flex flex-col">
    <div class="flex-1 grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-5 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-4">
      <!-- LEFT SIDEBAR -->
      <section class="flex flex-col border border-gray-200 bg-white shadow-md rounded-2xl overflow-hidden">
        <div class="border-b border-gray-200 bg-gray-50/80 px-3 sm:px-4 py-3 flex items-center justify-between gap-2">
          <div class="flex items-center gap-2">
            <iconify-icon icon="solar:box-linear" class="w-4 h-4 text-gray-700"></iconify-icon>
            <div class="flex flex-col leading-tight">
              <span class="text-xs font-medium text-gray-700 tracking-tight">Current project</span>
              <span class="text-sm font-semibold text-gray-900 tracking-tight truncate">Studio Scene · Concept v2</span>
            </div>
          </div>
          <button class="inline-flex items-center gap-1 rounded-full border border-gray-200 bg-white px-2 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50">
            <span>Switch</span>
            <iconify-icon icon="solar:alt-arrow-down-linear" class="w-3 h-3"></iconify-icon>
          </button>
        </div>

        <!-- Replaced simple pills with new tab-switcher -->
        <div class="border-b border-gray-200 px-3 sm:px-4 py-2 flex items-center justify-between gap-2">
          <div class="tab-switcher">
            <div class="tab-indicator" id="tabIndicator"></div>
            <div class="tab-buttons">
              <button class="tab-btn active" onclick="switchTab(0, this)">Scene</button>
              <button class="tab-btn" onclick="switchTab(1, this)">Assets</button>
            </div>
          </div>
          <button class="inline-flex items-center justify-center rounded-full w-7 h-7 hover:bg-gray-100 text-gray-500">
            <iconify-icon icon="solar:settings-linear" class="w-3.5 h-3.5"></iconify-icon>
          </button>
        </div>

        <div class="flex-1 flex flex-col gap-3 sm:gap-4 p-3 sm:p-4 overflow-y-auto">
          <div class="relative rounded-2xl overflow-hidden bg-gradient-to-br from-indigo-500 via-sky-500 to-emerald-400 text-gray-50 shadow-md">
            <div class="absolute inset-0 opacity-30 bg-[radial-gradient(circle_at_top,_white,transparent_55%)]"></div>
            <div class="relative p-3 sm:p-4 flex flex-col gap-2">
              <div class="inline-flex items-center gap-1.5 rounded-full bg-white/10 backdrop-blur px-2 py-1 text-xs font-medium">
                <iconify-icon icon="solar:videocamera-record-linear" class="w-3.5 h-3.5 text-gray-50"></iconify-icon>
                <span>Masterclass</span>
              </div>
              <div>
                <h2 class="text-sm sm:text-base font-semibold tracking-tight">Design a cinematic 3D frame</h2>
                <p class="text-sm text-gray-100/80 mt-1">
                  Learn how to prompt and tweak lighting, cameras, and materials to get production-ready scenes.
                </p>
              </div>
              <div class="flex items-center justify-between gap-2 mt-2">
                <button class="inline-flex items-center gap-1.5 rounded-full bg-white/90 text-gray-900 text-xs font-medium px-3 py-1.5 hover:bg-white transition">
                  <iconify-icon icon="solar:play-circle-linear" class="w-3.5 h-3.5 text-gray-900"></iconify-icon>
                  <span>Watch 4 min intro</span>
                </button>
                <button class="inline-flex items-center justify-center rounded-full w-7 h-7 bg-white/10 text-gray-50 hover:bg-white/15">
                  <iconify-icon icon="solar:alt-arrow-right-linear" class="w-3.5 h-3.5"></iconify-icon>
                </button>
              </div>
            </div>
          </div>

          <div class="flex flex-col gap-2.5 sm:gap-3">
            <article class="flex items-start gap-3 rounded-xl border border-gray-200 bg-gray-50/80 hover:bg-white hover:shadow-sm transition cursor-pointer p-3">
              <div class="shrink-0 w-9 h-9 rounded-lg bg-gradient-to-tr from-indigo-500 via-sky-500 to-cyan-400 flex items-center justify-center">
                <iconify-icon icon="solar:cube-linear" class="w-4 h-4 text-white"></iconify-icon>
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between gap-2">
                  <h3 class="text-sm font-semibold tracking-tight text-gray-900 truncate">Main Object</h3>
                  <span class="text-[0.65rem] font-medium text-gray-500 bg-white border border-gray-200 rounded-full px-1.5 py-0.5">Hero</span>
                </div>
                <p class="text-sm text-gray-600 mt-0.5">
                  Define the primary object, its style, and level of detail for the scene.
                </p>
              </div>
            </article>

            <article class="flex items-start gap-3 rounded-xl border border-gray-200 bg-gray-50/80 hover:bg-white hover:shadow-sm transition cursor-pointer p-3">
              <div class="shrink-0 w-9 h-9 rounded-lg bg-gradient-to-tr from-amber-400 via-orange-500 to-rose-500 flex items-center justify-center">
                <iconify-icon icon="solar:sun-2-linear" class="w-4 h-4 text-white"></iconify-icon>
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between gap-2">
                  <h3 class="text-sm font-semibold tracking-tight text-gray-900 truncate">Lighting Setup</h3>
                  <span class="text-[0.65rem] font-medium text-amber-700 bg-amber-50 border border-amber-100 rounded-full px-1.5 py-0.5">Studio</span>
                </div>
                <p class="text-sm text-gray-600 mt-0.5">
                  Configure key, fill, and rim lights to shape your object with depth and drama.
                </p>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- CENTRAL CANVAS AREA -->
      <section class="flex flex-col border border-gray-200 bg-white shadow-md rounded-2xl overflow-hidden">
        <div class="border-b border-gray-200 bg-gray-50/80 px-3 sm:px-4 py-2.5 flex items-center justify-between gap-2">
          <div class="flex items-center gap-2">
            <iconify-icon icon="solar:monitor-camera-linear" class="w-4 h-4 text-gray-700"></iconify-icon>
            <div class="flex flex-col leading-tight">
              <span class="text-xs font-medium text-gray-700 tracking-tight">Scene canvas</span>
              <span class="text-xs text-gray-500">Realtime preview</span>
            </div>
          </div>
          <div class="flex items-center gap-1.5">
            <button class="inline-flex items-center gap-1 rounded-full bg-white border border-gray-200 text-xs text-gray-700 px-2.5 py-1 hover:bg-gray-50">
              <iconify-icon icon="solar:maximize-linear" class="w-3.5 h-3.5"></iconify-icon>
              <span>Fit</span>
            </button>
            <button class="inline-flex items-center justify-center rounded-full w-7 h-7 border border-gray-200 bg-white hover:bg-gray-50 text-gray-600">
              <iconify-icon icon="solar:eye-linear" class="w-3.5 h-3.5"></iconify-icon>
            </button>
          </div>
        </div>

        <div class="flex-1 flex flex-col p-3 sm:p-4 gap-3">
          <div class="relative flex-1 flex items-center justify-center rounded-2xl border border-gray-200 bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 overflow-hidden">
            <div class="absolute inset-0 pointer-events-none">
              <div class="absolute -top-10 -left-10 w-40 h-40 rounded-full bg-gradient-to-br from-indigo-400/30 to-sky-300/0 blur-3xl"></div>
              <div class="absolute -bottom-8 -right-6 w-40 h-40 rounded-full bg-gradient-to-tr from-emerald-400/25 to-cyan-300/0 blur-3xl"></div>
            </div>
            <div class="relative w-full h-full flex items-center justify-center">
              <div class="max-w-sm w-full flex flex-col items-center text-center gap-3">
                <div class="inline-flex items-center justify-center rounded-full border border-dashed border-gray-300 bg-white/70 backdrop-blur px-3 py-1.5">
                  <iconify-icon icon="solar:magic-stick-3-linear" class="w-4 h-4 text-indigo-500"></iconify-icon>
                  <span class="ml-1.5 text-xs font-medium text-gray-700">Welcome to PromptCraft</span>
                </div>
                <h1 class="text-xl sm:text-2xl font-semibold tracking-tight text-gray-900">
                  Sketch 3D scenes with natural language.
                </h1>
                <p class="text-base text-gray-600">
                  Describe your idea, tweak cameras and materials, then export frames ready for your design system or motion pipeline.
                </p>
                <div class="flex flex-wrap justify-center gap-1.5 mt-1">
                  <button class="inline-flex items-center gap-1 rounded-full bg-white border border-gray-200 text-xs text-gray-700 px-2.5 py-1 hover:bg-gray-50">
                    <iconify-icon icon="solar:stars-line-duotone" class="w-3.5 h-3.5 text-indigo-500"></iconify-icon>
                    <span>Futuristic dashboard</span>
                  </button>
                  <button class="inline-flex items-center gap-1 rounded-full bg-white border border-gray-200 text-xs text-gray-700 px-2.5 py-1 hover:bg-gray-50">
                    <iconify-icon icon="solar:planet-3-linear" class="w-3.5 h-3.5 text-sky-500"></iconify-icon>
                    <span>Isometric city</span>
                  </button>
                  <button class="inline-flex items-center gap-1 rounded-full bg-white border border-gray-200 text-xs text-gray-700 px-2.5 py-1 hover:bg-gray-50">
                    <iconify-icon icon="solar:camera-linear" class="w-3.5 h-3.5 text-emerald-500"></iconify-icon>
                    <span>Studio product shot</span>
                  </button>
                </div>
                <div class="flex items-center justify-center gap-2 mt-2">
                  <div class="flex items-center gap-1.5 rounded-full bg-white/80 border border-gray-200 px-2 py-1">
                    <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
                    <span class="text-[0.7rem] font-medium text-gray-600">Preview engine ready</span>
                  </div>
                  <button class="hidden sm:inline-flex items-center justify-center rounded-full w-6 h-6 bg-gray-900 text-gray-50 hover:bg-gray-800">
                    <iconify-icon icon="solar:info-circle-linear" class="w-3.5 h-3.5"></iconify-icon>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="flex items-center justify-between gap-2">
            <div class="flex items-center gap-1.5 text-[0.7rem] text-gray-500">
              <iconify-icon icon="solar:cpu-bolt-linear" class="w-3.5 h-3.5"></iconify-icon>
              <span>Using smart defaults &amp; non-destructive adjustments.</span>
            </div>
            <div class="hidden sm:flex items-center gap-1.5">
              <button class="inline-flex items-center gap-1 rounded-full bg-gray-50 border border-gray-200 text-[0.7rem] text-gray-700 px-2 py-1 hover:bg-white">
                <iconify-icon icon="solar:bookmark-linear" class="w-3 h-3"></iconify-icon>
                <span>Save preset</span>
              </button>
              <button class="inline-flex items-center gap-1 rounded-full bg-gray-50 border border-gray-200 text-[0.7rem] text-gray-700 px-2 py-1 hover:bg-white">
                <iconify-icon icon="solar:share-linear" class="w-3 h-3"></iconify-icon>
                <span>Share link</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT SIDEBAR -->
      <section class="flex flex-col border border-gray-200 bg-white shadow-md rounded-2xl overflow-hidden">
        <div class="border-b border-gray-200 bg-gray-50/80 px-3 sm:px-4 py-2.5 flex items-center justify-between gap-2">
          <div class="flex items-center gap-2">
            <iconify-icon icon="solar:settings-line-duotone" class="w-4 h-4 text-gray-700"></iconify-icon>
            <div class="flex flex-col leading-tight">
              <span class="text-xs font-medium text-gray-700 tracking-tight">Inspector</span>
              <span class="text-xs text-gray-500">Canvas &amp; camera</span>
            </div>
          </div>
          <label class="inline-flex items-center gap-1.5 cursor-pointer select-none">
            <span class="text-[0.7rem] text-gray-600">Frame</span>
            <span class="relative inline-flex items-center">
              <input type="checkbox" class="peer sr-only" checked="">
              <span class="w-8 h-4 rounded-full bg-gray-300 peer-checked:bg-gray-900 transition-colors"></span>
              <span class="absolute left-0.5 top-0.5 w-3 h-3 rounded-full bg-white shadow transform peer-checked:translate-x-4 transition-transform"></span>
            </span>
          </label>
        </div>

        <div class="flex-1 flex flex-col gap-3 sm:gap-4 p-3 sm:p-4 overflow-y-auto">
          <section class="flex flex-col gap-2">
            <div class="flex items-center justify-between">
              <h3 class="text-xs font-semibold tracking-tight text-gray-900">Canvas size</h3>
              <button class="text-[0.7rem] text-gray-500 hover:text-gray-800 inline-flex items-center gap-1">
                <iconify-icon icon="solar:refresh-linear" class="w-3 h-3"></iconify-icon>
                <span>Reset</span>
              </button>
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div class="flex flex-col gap-1">
                <label class="text-[0.7rem] text-gray-600">Width</label>
                <div class="relative">
                  <input type="number" value="1440" class="w-full rounded-lg border border-gray-200 bg-gray-50/80 focus:bg-white text-sm text-gray-800 px-2.5 py-1.5 outline-none focus:ring-2 focus:ring-gray-900/10">
                  <span class="pointer-events-none absolute inset-y-0 right-2 flex items-center text-[0.7rem] text-gray-400">px</span>
                </div>
              </div>
              <div class="flex flex-col gap-1">
                <label class="text-[0.7rem] text-gray-600">Height</label>
                <div class="relative">
                  <input type="number" value="900" class="w-full rounded-lg border border-gray-200 bg-gray-50/80 focus:bg-white text-sm text-gray-800 px-2.5 py-1.5 outline-none focus:ring-2 focus:ring-gray-900/10">
                  <span class="pointer-events-none absolute inset-y-0 right-2 flex items-center text-[0.7rem] text-gray-400">px</span>
                </div>
              </div>
            </div>
            <div class="flex items-center justify-between gap-2">
              <div class="inline-flex items-center gap-1.5 text-[0.7rem] text-gray-500">
                <iconify-icon icon="solar:resize-square-linear" class="w-3 h-3"></iconify-icon>
                <span>16:10 aspect ratio</span>
              </div>
              <button class="inline-flex items-center gap-1 rounded-full bg-gray-50 border border-gray-200 text-[0.7rem] text-gray-700 px-2 py-1 hover:bg-white">
                <iconify-icon icon="solar:devices-linear" class="w-3 h-3"></iconify-icon>
                <span>Presets</span>
              </button>
            </div>
          </section>

          <section class="flex flex-col gap-2">
            <div class="flex items-center justify-between">
              <h3 class="text-xs font-semibold tracking-tight text-gray-900">Materials</h3>
              <button class="inline-flex items-center gap-1 rounded-full bg-gray-50 border border-gray-200 text-[0.7rem] text-gray-700 px-1.5 py-0.5 hover:bg-white">
                <iconify-icon icon="solar:add-circle-linear" class="w-3 h-3"></iconify-icon>
                <span>New</span>
              </button>
            </div>
            <div class="grid grid-cols-4 gap-2">
              <button class="group flex flex-col items-center gap-1 rounded-xl border border-gray-200 bg-gray-50/80 hover:bg-white hover:shadow-sm transition p-1.5">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-300 to-gray-100 border border-white shadow-inner"></div>
                <span class="text-[0.65rem] text-gray-700">Matte</span>
              </button>
              <button class="group flex flex-col items-center gap-1 rounded-xl border border-gray-200 bg-gray-50/80 hover:bg-white hover:shadow-sm transition p-1.5">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-300 to-indigo-500 border border-white shadow-inner"></div>
                <span class="text-[0.65rem] text-gray-700">Glass</span>
              </button>
              <button class="group flex flex-col items-center gap-1 rounded-xl border border-gray-200 bg-gray-50/80 hover:bg-white hover:shadow-sm transition p-1.5">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-zinc-500 to-zinc-200 border border-white shadow-inner"></div>
                <span class="text-[0.65rem] text-gray-700">Metal</span>
              </button>
              <button class="group flex flex-col items-center gap-1 rounded-xl border border-dashed border-gray-300 bg-gray-50/60 hover:bg-white hover:border-gray-400 transition p-1.5">
                <div class="w-10 h-10 rounded-full border border-dashed border-gray-300 flex items-center justify-center">
                  <iconify-icon icon="solar:add-square-linear" class="w-4 h-4 text-gray-400"></iconify-icon>
                </div>
                <span class="text-[0.65rem] text-gray-500">Custom</span>
              </button>
            </div>
          </section>

          <section class="flex flex-col gap-2">
            <div class="flex items-center justify-between">
              <h3 class="text-xs font-semibold tracking-tight text-gray-900">Camera</h3>
              <span class="inline-flex items-center gap-1 rounded-full bg-gray-50 border border-gray-200 text-[0.65rem] text-gray-600 px-1.5 py-0.5">
                <iconify-icon icon="solar:camera-linear" class="w-3 h-3"></iconify-icon>
                <span>Rig v1</span>
              </span>
            </div>
            <div class="inline-flex rounded-full bg-gray-100 border border-gray-200 p-0.5 w-full sm:w-auto">
              <button class="flex-1 sm:flex-none inline-flex items-center justify-center gap-1 rounded-full bg-white text-xs font-medium text-gray-900 px-2.5 py-1.5 shadow-sm">
                <iconify-icon icon="solar:3d-cube-center-linear" class="w-3.5 h-3.5"></iconify-icon>
                <span>Isometric</span>
              </button>
              <button class="flex-1 sm:flex-none inline-flex items-center justify-center gap-1 rounded-full text-xs font-medium text-gray-600 px-2.5 py-1.5 hover:bg-white/60">
                <iconify-icon icon="solar:camera-2-linear" class="w-3.5 h-3.5"></iconify-icon>
                <span>Perspective</span>
              </button>
            </div>

            <div class="flex flex-col gap-1.5 mt-1">
              <div class="flex items-center justify-between">
                <span class="text-[0.7rem] text-gray-600">Lens distortion</span>
                <div class="flex items-center gap-1.5">
                  <span class="text-[0.7rem] font-medium text-gray-800">18%</span>
                  <div class="h-4 w-10 rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center">
                    <span class="w-5 h-2 rounded-full bg-gradient-to-r from-emerald-400 via-sky-400 to-indigo-500"></span>
                  </div>
                </div>
              </div>
              <div class="relative flex items-center">
                <input type="range" min="0" max="100" value="18" class="w-full h-1.5 rounded-full accent-gray-900 bg-gradient-to-r from-emerald-400 via-sky-400 to-indigo-500">
              </div>
              <div class="flex items-center justify-between text-[0.65rem] text-gray-500">
                <span>Orthographic</span>
                <span>Cinematic</span>
              </div>
            </div>

            <div class="grid grid-cols-3 gap-2 mt-1">
              <div class="flex flex-col gap-1">
                <label class="text-[0.7rem] text-gray-600">FOV</label>
                <div class="relative">
                  <input type="number" value="35" class="w-full rounded-lg border border-gray-200 bg-gray-50/80 focus:bg-white text-sm text-gray-800 px-2 py-1.5 outline-none focus:ring-2 focus:ring-gray-900/10">
                  <span class="pointer-events-none absolute inset-y-0 right-2 flex items-center text-[0.7rem] text-gray-400">mm</span>
                </div>
              </div>
              <div class="flex flex-col gap-1">
                <label class="text-[0.7rem] text-gray-600">Tilt</label>
                <input type="number" value="-12" class="w-full rounded-lg border border-gray-200 bg-gray-50/80 focus:bg-white text-sm text-gray-800 px-2 py-1.5 outline-none focus:ring-2 focus:ring-gray-900/10">
              </div>
              <div class="flex flex-col gap-1">
                <label class="text-[0.7rem] text-gray-600">Roll</label>
                <input type="number" value="4" class="w-full rounded-lg border border-gray-200 bg-gray-50/80 focus:bg-white text-sm text-gray-800 px-2 py-1.5 outline-none focus:ring-2 focus:ring-gray-900/10">
              </div>
            </div>
          </section>

          <section class="mt-1 border-t border-gray-200 pt-2 flex items-center justify-between gap-2">
            <div class="flex items-center gap-1.5">
              <span class="text-[0.65rem] text-gray-500">Works great with</span>
            </div>
            <div class="flex items-center gap-2">
              <iconify-icon icon="simple-icons:figma" class="w-8 h-3 text-gray-500"></iconify-icon>
              <iconify-icon icon="simple-icons:blender" class="w-8 h-3 text-gray-500"></iconify-icon>
              <iconify-icon icon="simple-icons:adobeaftereffects" class="w-8 h-3 text-gray-500"></iconify-icon>
            </div>
          </section>
        </div>
      </section>
    </div>
  </main>

  <!-- New floating chat-container replacing old bottom bar -->
  <div class="chat-container">
    <div class="chat-history-controls">
      <button aria-label="Previous history item">
        <svg viewBox="0 0 20 20" style="transform: rotate(180deg);"><path d="M12.183 4.3a.75.75 0 0 1 1.061 0l3.44 3.441a3.25 3.25 0 0 1 0 4.596l-3.44 3.441a.75.75 0 0 1-1.061-1.061l3.441-3.441a1.75 1.75 0 0 0 .298-.397l.043-.091H3.13a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .75-.75h12.836l-.044-.09c-.052-.095-.114-.186-.184-.272l-.114-.125-3.44-3.441a.75.75 0 0 1 0-1.061z"></path></svg>
      </button>
      <div class="chat-history-indicator">
        <span class="chat-history-dot short"></span>
        <span class="chat-history-dot tall active"></span>
        <span class="chat-history-dot short"></span>
        <span class="chat-history-dot short"></span>
        <span class="chat-history-dot short"></span>
        <span class="chat-history-dot tall active"></span>
        <span class="chat-history-dot short"></span>
      </div>
      <button aria-label="Next history item">
        <svg viewBox="0 0 20 20"><path d="M12.183 4.3a.75.75 0 0 1 1.061 0l3.44 3.441a3.25 3.25 0 0 1 0 4.596l-3.44 3.441a.75.75 0 0 1-1.061-1.061l3.441-3.441a1.75 1.75 0 0 0 .298-.397l.043-.091H3.13a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .75-.75h12.836l-.044-.09c-.052-.095-.114-.186-.184-.272l-.114-.125-3.44-3.441a.75.75 0 0 1 0-1.061z"></path></svg>
      </button>
    </div>

    <textarea class="chat-input-area" id="chat-textarea" placeholder="Describe the 3D object or scene you want to prototype…" rows="1"></textarea>

    <div class="chat-footer">
      <button class="chat-btn" aria-label="Attach file">
        <svg viewBox="0 0 20 20"><path d="M10.005 2.38a.75.75 0 0 1 .75.75v6.125h6.125a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.75.75h-6.125v6.125a.75.75 0 0 1-.648.743l-.102.007a.75.75 0 0 1-.75-.75v-6.125H3.13a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .75-.75h6.125V3.13a.75.75 0 0 1 .648-.743l.102-.007z"></path></svg>
      </button>
      <button class="mode-selector">
        <svg class="icon-mode" viewBox="0 0 20 20"><path d="M9.149 1.683c.852-1.272 2.787-.651 2.787.894v3.749l4.033.001c1.18 0 1.896 1.307 1.338 2.335l-.08.132-6.376 9.522c-.852 1.272-2.787.651-2.787-.894l-.001-3.751-4.032.001c-1.18 0-1.896-1.307-1.338-2.336l.08-.132 6.376-9.522z"></path></svg>
        <span class="icon-text">Inspiration</span>
        <svg class="icon-chevron" viewBox="0 0 20 20"><path d="M11.371 12.38c-.757.827-1.985.827-2.742 0l-3.36-3.668a1.07 1.07 0 0 1 0-1.418c.359-.392.94-.392 1.299 0l3.36 3.668c.04.044.104.044.144 0l3.36-3.668c.359-.392.94-.392 1.299 0a1.07 1.07 0 0 1 0 1.418l-3.36 3.668z"></path></svg>
      </button>
      <button class="submit-btn" id="submit-prompt-btn" aria-label="Submit prompt">
        <svg viewBox="0 0 20 20"><path d="M12.183 4.3a.75.75 0 0 1 1.061 0l3.44 3.441a3.25 3.25 0 0 1 0 4.596l-3.44 3.441a.75.75 0 0 1-1.061-1.061l3.441-3.441a1.75 1.75 0 0 0 .298-.397l.043-.091H3.13a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .75-.75h12.836l-.044-.09c-.052-.095-.114-.186-.184-.272l-.114-.125-3.44-3.441a.75.75 0 0 1 0-1.061z"></path></svg>
      </button>
    </div>
  </div>

  <script>
    function switchTab(index, clickedButton) {
      const indicator = document.getElementById('tabIndicator');
      const buttons = document.querySelectorAll('.tab-btn');
      if (!indicator) return;
      indicator.style.transform = `translateX(${100 * index}%)`;
      buttons.forEach(btn => btn.classList.remove('active'));
      clickedButton.classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', () => {
      const textarea = document.getElementById('chat-textarea');
      if (textarea) {
        const initialHeight = textarea.clientHeight || 0;
        const autoResize = () => {
          textarea.style.height = 'auto';
          textarea.style.height = Math.max(initialHeight, textarea.scrollHeight) + 'px';
        };
        textarea.addEventListener('input', autoResize);
        autoResize();
      }
    });
  </script>

</body></html>
